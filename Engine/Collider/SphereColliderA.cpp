#include "SphereColliderA.h"
#include "BoxColliderA.h"
#include "../ResourceManager/ModelManager.h"

//コンストラクタ（当たり判定の作成）
//引数：basePos	当たり判定の中心位置（ゲームオブジェクトの原点から見た位置）
//引数：size	当たり判定のサイズ
SphereColliderA::SphereColliderA(XMFLOAT3 center, float radius, bool rotateflag)
{
	center_ = center;
	size_ = XMFLOAT3(radius, radius, radius);
	type_ = COLLIDER_CIRCLE;
	rotateflag_ = rotateflag;

	//リリース時は判定枠は表示しない
#ifdef _DEBUG
	//テスト表示用判定枠
	hDebugModel_ = ModelManager::Load("DebugCollision/sphereCollider.fbx");
#endif
}

//接触判定
//引数：target	相手の当たり判定
//戻値：接触してればtrue
bool SphereColliderA::IsHit(ColliderA* target)
{
	if (target->type_ == COLLIDER_BOX)
		return IsHitBoxVsCircle((BoxColliderA*)target, this);
	else
		return IsHitCircleVsCircle((SphereColliderA*)target, this);
}